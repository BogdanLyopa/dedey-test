{"version":3,"sources":["components/Counter/Counter.js","components/Container/Container.js","components/Table/Table.js","components/FileDrop/FileDrop.js","services/postData.js","App.js","index.js"],"names":["Counter","type","startValue","useState","value","setValue","className","htmlFor","name","id","onChange","event","target","onClick","prevValue","Container","children","Table","items","keys","Object","map","key","row","column","files","postData","data","a","axios","post","resultArray","headers","Authorization","console","log","FileDrop","drag","setDrag","validationMessage","setvalidationMessage","setFile","parseFile","setParseFile","dragStartHandler","preventDefault","dragLeaveHandler","validation","file","size","reader","FileReader","readAsArrayBuffer","onload","wb","XLSX","result","wsname","SheetNames","ws","Sheets","sheet_to_json","onDropHandler","dataTransfer","action","onDragStart","onDragLeave","onDragOver","onDrop","onChangeHandler","accept","length","App","Date","startDate","setStartDate","endDate","setEndDate","onSubmit","placeholder","fill","dateFormat","selected","date","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0b826e2.chunk.js","sourcesContent":["import { useState } from 'react';\r\nimport { AiFillCaretDown, AiFillCaretUp } from 'react-icons/ai';\r\n\r\nimport './Counter.scss';\r\n\r\nexport default function Counter({ type, startValue }) {\r\n  const [value, setValue] = useState(startValue);\r\n  const handleIncrement = () => {\r\n    setValue(prevValue => +prevValue + 1);\r\n  };\r\n  const handleDecrement = () => {\r\n    setValue(prevValue =>\r\n      prevValue - 1 < startValue ? startValue : prevValue - 1,\r\n    );\r\n  };\r\n  const handleChange = event => {\r\n    setValue(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"form__counter\">\r\n      <div className=\"form__field\">\r\n        <label htmlFor=\"counter\">{type}</label>\r\n        <div className=\"counter__box\">\r\n          <input\r\n            type=\"number\"\r\n            name=\"counter\"\r\n            id=\"counter\"\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n          <div className=\"form__counters--buttons\">\r\n            <button\r\n              className=\"counter__button\"\r\n              type=\"button\"\r\n              onClick={handleIncrement}\r\n            >\r\n              <AiFillCaretUp className=\"arrow__top\" />\r\n            </button>\r\n            <button\r\n              className=\"counter__button\"\r\n              type=\"button\"\r\n              onClick={handleDecrement}\r\n            >\r\n              <AiFillCaretDown className=\"arrow__bot\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Container.scss\";\r\n\r\nexport default function Container({ children }) {\r\n  return <div className=\"container\">{children}</div>;\r\n}\r\n","import \"./Table.scss\";\r\n\r\nexport default function Table({ items }) {\r\n  const keys = Object.keys(items[0]);\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          {keys.map((key) => (\r\n            <th key={key}>{key}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.map((row) => (\r\n          <tr>\r\n            {keys.map((column) => (\r\n              <td key={row[column]}>{row[column]}</td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport Table from \"../Table/Table\";\r\nimport postData from \"../../services/postData\";\r\nimport \"./FileDrop.scss\";\r\n\r\nlet files;\r\nexport default function FileDrop() {\r\n  const [drag, setDrag] = useState(false);\r\n  const [validationMessage, setvalidationMessage] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [parseFile, setParseFile] = useState([]);\r\n\r\n  const dragStartHandler = (event) => {\r\n    event.preventDefault();\r\n    setDrag(true);\r\n  };\r\n  const dragLeaveHandler = (event) => {\r\n    event.preventDefault();\r\n    setDrag(false);\r\n  };\r\n  const validation = (file) => {\r\n    if (file[0].size > 10000000) {\r\n      setvalidationMessage(\"Допустимий размер файла 10мб,выберите другой файл\");\r\n      setDrag(false);\r\n      setParseFile([]);\r\n    }\r\n    if (\r\n      file[0].type !==\r\n        \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" &&\r\n      file[0].type !== \"application/vnd.ms-excel\"\r\n    ) {\r\n      setDrag(false);\r\n      setvalidationMessage(\r\n        `Недопустимий тип файла ${file[0].type},выберите другой файл`\r\n      );\r\n      setParseFile([]);\r\n    } else {\r\n      setvalidationMessage(`Файл - ${file[0].name}`);\r\n      setFile(file[0]);\r\n      setDrag(false);\r\n      const reader = new FileReader();\r\n      reader.readAsArrayBuffer(file[0]);\r\n      reader.onload = async function () {\r\n        const wb = XLSX.read(reader.result, { type: \"buffer\" });\r\n        const wsname = wb.SheetNames[0];\r\n        const ws = wb.Sheets[wsname];\r\n        const data = XLSX.utils.sheet_to_json(ws);\r\n        setParseFile(data);\r\n        postData(data);\r\n      };\r\n    }\r\n  };\r\n  const onDropHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    files = event.dataTransfer.files;\r\n\r\n    validation(files);\r\n  };\r\n  const onChangeHandler = (event) => {\r\n    event.preventDefault();\r\n    files = event.target.files;\r\n\r\n    validation(files);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"file-form\" action=\"\" type=\"POST\">\r\n        {drag ? (\r\n          <p\r\n            onDragStart={(event) => dragStartHandler(event)}\r\n            onDragLeave={(event) => dragLeaveHandler(event)}\r\n            onDragOver={(event) => dragStartHandler(event)}\r\n            onDrop={(event) => onDropHandler(event)}\r\n          >\r\n            Отпустите файл для загрузки\r\n          </p>\r\n        ) : (\r\n          <p\r\n            onDragStart={(event) => dragStartHandler(event)}\r\n            onDragLeave={(event) => dragLeaveHandler(event)}\r\n            onDragOver={(event) => dragStartHandler(event)}\r\n            onDrop={(event) => onDropHandler(event)}\r\n          >\r\n            {validationMessage\r\n              ? validationMessage\r\n              : \"Перетащите сюда файл или нажмите чтобы выбрать\"}\r\n          </p>\r\n        )}\r\n        <input\r\n          onChange={(event) => onChangeHandler(event)}\r\n          className=\"file-input\"\r\n          type=\"file\"\r\n          name=\"files\"\r\n          id=\"files\"\r\n          accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n        />\r\n      </form>\r\n      {parseFile.length > 0 && <Table items={parseFile} />}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst URL = 'http://193.243.158.230:4500/api/import';\r\n\r\nconst postData = async data => {\r\n  try {\r\n    await axios.post(\r\n      URL,\r\n      {\r\n        resultArray: data,\r\n      },\r\n      {\r\n        headers: { Authorization: 'test-task' },\r\n      },\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport default postData;\r\n","import { useState } from 'react';\nimport Counter from './components/Counter/Counter';\nimport Container from './components/Container/Container';\nimport DatePicker from 'react-datepicker';\nimport FileDrop from './components/FileDrop/FileDrop';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { IoChevronDownSharp } from 'react-icons/io5';\nimport { AiOutlinePlus } from 'react-icons/ai';\nimport { IoLocationOutline } from 'react-icons/io5';\nimport { FaRegCalendarAlt } from 'react-icons/fa';\n\nfunction App() {\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n  const handleDateChange = date => {\n    setStartDate(date);\n  };\n\n  return (\n    <div className=\"App\">\n      <Container>\n        <form\n          className=\"form\"\n          action=\"#\"\n          onSubmit={event => event.preventDefault()}\n        >\n          <div className=\"form__field form__field--line\">\n            <label htmlFor=\"search\">Место или название отеля</label>\n\n            <IoLocationOutline className=\"location-logo\" />\n            <input\n              type=\"text\"\n              name=\"search\"\n              id=\"search\"\n              className=\"input\"\n              placeholder=\"Введите здесь место\"\n            />\n          </div>\n          <div className=\"form__field\">\n            <label htmlFor=\"\">Заезд</label>\n            <FaRegCalendarAlt className=\"calendar-logo\" fill=\"#ed9915\" />\n\n            <DatePicker\n              className=\"form__date\"\n              dateFormat=\"d MMMM\"\n              selected={startDate}\n              onChange={handleDateChange}\n            />\n          </div>\n          <div className=\"form__field form__field--line\">\n            <label htmlFor=\"\">Выезд</label>\n            <DatePicker\n              className=\"form__date form__date--end\"\n              dateFormat=\"d MMMM\"\n              selected={endDate}\n              onChange={date => setEndDate(date)}\n            />{' '}\n            <IoChevronDownSharp className=\"ctrl\" />\n          </div>\n          <div className=\"form__counters\">\n            <Counter type={'Номера'} startValue={1} />\n            <Counter type={'Взрослые'} startValue={1} />\n            <Counter type={'Дети'} startValue={0} />\n          </div>\n          <button type=\"button\" className=\"button--add\">\n            <AiOutlinePlus className=\"icon-add\" />\n          </button>\n          <button className=\"button--search\" type=\"submit\">\n            Найти\n          </button>\n        </form>\n      </Container>\n      <Container>\n        <FileDrop />\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}